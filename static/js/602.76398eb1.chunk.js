"use strict";(self.webpackChunkts_user_rates=self.webpackChunkts_user_rates||[]).push([[602],{8602:function(e,s,n){n.r(s),n.d(s,{Component:function(){return A},ErrorBoundary:function(){return D}});var r=n(2791),t=n(7689),i=n(7331),a=n(1889),o=n(9434),l=n(6615),c=n(2199),d=n(4518),u=n(7145),x=n(3494),h=n(184),f=function(){var e=(0,o.I0)(),s=l.$.useIsUsersListLoading(),n=(0,r.useCallback)((function(){e(l.$.getUserEntries({size:3,overwrite:!0}))}),[e]),t=(0,r.useCallback)((function(){e(l.$.getMoreUsers({size:6}))}),[e]);return(0,h.jsxs)(c.Z,{children:[(0,h.jsx)(d.Z,{disabled:s,variant:"contained",startIcon:(0,h.jsx)(u.Z,{}),onClick:n,children:"Reload Users"}),(0,h.jsx)(d.Z,{disabled:s,variant:"contained",startIcon:(0,h.jsx)(x.Z,{}),onClick:t,children:"Add More Users"})]})},j=n(7973),m=n(9984),_=n(22),g="styles_ButtonBlock__0Fx7U",p=function(e){var s=e.user,n=(0,o.I0)(),t=(0,r.useCallback)((function(){n((0,j.updateUserRate)({id:s.id,modifier:1}))}),[n,s.id]),i=(0,r.useCallback)((function(){n((0,j.updateUserRate)({id:s.id,modifier:-1}))}),[n,s.id]),a=(0,r.useCallback)((function(){n((0,j.resetUserRating)({id:s.id}))}),[n,s.id]);return(0,h.jsxs)(c.Z,{color:"info",size:"small",className:g,children:[(0,h.jsx)(d.Z,{variant:"contained",onClick:i,title:"Decrease rating",children:(0,h.jsx)(m.Z,{})}),(0,h.jsx)(d.Z,{variant:"contained",onClick:t,title:"Increase rating",children:(0,h.jsx)(x.Z,{})}),s.isRated?(0,h.jsx)(d.Z,{variant:"contained",onClick:a,title:"Reset rating",children:(0,h.jsx)(_.Z,{})}):null]})},v=n(9439),Z=n(9818),b="styles_DialogContent__AdIv-",y=function(e){var s=e.user,n=(0,o.I0)(),t=(0,r.useState)(!1),i=(0,v.Z)(t,2),a=i[0],l=i[1],c=(0,r.useState)(!1),u=(0,v.Z)(c,2),x=u[0],f=u[1];(0,r.useEffect)((function(){s.rating>=5&&l(!0),s.rating<=-5&&f(!0)}),[s.rating]);var m=(0,r.useCallback)((function(){l(!1)}),[]),_=(0,r.useCallback)((function(){f(!1)}),[]),g=(0,r.useCallback)((function(){n((0,j.resetUserRating)({id:s.id}))}),[n,s.id]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Z.Z,{open:a,onClose:m,children:(0,h.jsxs)("div",{className:b,children:["Would you like to reward this user? :)",(0,h.jsx)(d.Z,{variant:"contained",onClick:g,children:"Reward user"})]})}),(0,h.jsx)(Z.Z,{open:x,onClose:_,children:(0,h.jsxs)("div",{className:b,children:["Would you like to BAN this user? >:|",(0,h.jsx)(d.Z,{variant:"contained",onClick:g,children:"Ban user"})]})})]})},C=n(3239),U=n(493),k=function(e){var s=e.rows,n=e.after;if(e.isFetching)return(0,h.jsx)(C.Z,{color:"primary"});var r=s.map((function(e){return(0,h.jsx)(l.p,{user:e,after:n},e.id)}));return(0,h.jsx)(U.Z,{children:r.length?r:"No User record available"})},N=n(1413),w=n(5987),I=n(4554),L=n(890),F=n(5228),R=n(3896),B=["children","value","index"];function $(e){var s=e.children,n=e.value,r=e.index,t=(0,w.Z)(e,B);return(0,h.jsx)("div",(0,N.Z)((0,N.Z)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},t),{},{children:n===r&&(0,h.jsx)(I.Z,{sx:{p:3},children:(0,h.jsx)(L.Z,{children:s})})}))}var E=function(e){var s=e.tabs,n=e.content,t=r.useState(0),i=(0,v.Z)(t,2),a=i[0],o=i[1];return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(I.Z,{sx:{width:"100%",typography:"body1"},children:[(0,h.jsx)(I.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,h.jsx)(F.Z,{onChange:function(e,s){o(s)},"aria-label":"lab API tabs example",value:a,children:s.map((function(e,s){return(0,h.jsx)(R.Z,{value:s,label:e},s)}))})}),n.map((function(e,s){return(0,h.jsx)($,{index:s,value:a,children:e},s)}))]})})},z={main:"styles_main__SZPjT",description:"styles_description__A2dXy",code:"styles_code__RcfT8",grid:"styles_grid__FpXhn",card:"styles_card__NHzZ8",center:"styles_center__vf0i1",logo:"styles_logo__fBTFQ",content:"styles_content__1isLV",vercelLogo:"styles_vercelLogo__JAMYo",rotate:"styles_rotate__+NDCI"};function A(){var e=(0,o.I0)(),s=l.$.useIsUsersListLoading(),n=l.$.useUnratedUsers(),t=l.$.useUpVotedUsers(),i=l.$.useDownVotedUsers();return(0,r.useEffect)((function(){e(l.$.getUserEntries({size:3,overwrite:!1}))}),[e]),(0,h.jsxs)("main",{className:z.main,children:[(0,h.jsx)(f,{}),(0,h.jsxs)(a.ZP,{container:!0,spacing:2,className:z.container,children:[(0,h.jsxs)(a.ZP,{className:z.UserListColumn,item:!0,sm:12,md:6,padding:5,children:[(0,h.jsx)("h3",{children:" Users with no rating "}),(0,h.jsx)(k,{rows:n,isFetching:s,after:[p]})]}),(0,h.jsx)(a.ZP,{className:z.UserListColumn,item:!0,sm:12,md:6,padding:5,children:(0,h.jsx)(E,{tabs:["UpVoted","DownVoted"],content:[(0,h.jsx)(k,{rows:t,isFetching:s,after:[p,y]}),(0,h.jsx)(k,{rows:i,isFetching:s,after:[p,y]})]})})]})]})}function D(){var e,s,n=(0,t.lk)();(0,i.WK)(n)?e=(null===(s=n.error)||void 0===s?void 0:s.message)||n.statusText:n instanceof Error?e=n.message:"string"===typeof n?e=n:(console.error(n),e="Unknown error");return(0,h.jsxs)("div",{id:"error-page",className:"flex flex-col gap-8 justify-center items-center h-screen",children:[(0,h.jsx)("h1",{className:"text-4xl font-bold",children:"Oops!"}),(0,h.jsx)("p",{children:"Sorry, an unexpected error has occurred."}),(0,h.jsx)("p",{className:"text-slate-400",children:(0,h.jsx)("i",{children:e})})]})}A.displayName="LazyUsersList",D.displayName="UsersListErrorBoundary"}}]);
//# sourceMappingURL=602.76398eb1.chunk.js.map